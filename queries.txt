CREATE TABLE USER_MST (UID SERIAL PRIMARY KEY, USERID TEXT, PASSWORD TEXT , STATUS CHAR(1) DEFAULT 'Y' );
INSERT INTO USER_MST (USERID, PASSWORD) VALUES('amit','amit1234');
INSERT INTO USER_MST (USERID, PASSWORD) VALUES('ram','ram1234');

CREATE TABLE ROLE_MST (ROLEID SERIAL PRIMARY KEY, NAME TEXT, DESCR TEXT, STATUS CHAR(1) DEFAULT 'Y');
INSERT INTO ROLE_MST (NAME,DESCR) VALUES('ADMIN','THIS IS ADMIN ROLE');
INSERT INTO ROLE_MST (NAME,DESCR) VALUES('TEACHER','THIS IS TEACHER ROLE');
INSERT INTO ROLE_MST (NAME,DESCR) VALUES('STUDENT','THIS IS STUDENT  ROLE');

CREATE TABLE RIGHT_MST (RIGHTID SERIAL PRIMARY KEY, NAME TEXT , SCREENNAME TEXT, STATUS CHAR(1) DEFAULT 'Y');

INSERT INTO RIGHT_MST (NAME,SCREENNAME) VALUES('UPLOAD TEST','com.brainmentors.testengine.question.views.QuestionUploadView.java');
INSERT INTO RIGHT_MST (NAME,SCREENNAME) VALUES('SEE RESULTS','com.brainmentors.testengine.question.views.ResultView.java');
INSERT INTO RIGHT_MST (NAME,SCREENNAME) VALUES('TAKE TEST','com.brainmentors.testengine.question.views.TestTakeView.java');


CREATE TABLE USER_ROLE_MAPPING(MAPID SERIAL PRIMARY KEY, UID INT REFERENCES USER_MST(UID) ON DELETE CASCADE ON UPDATE CASCADE ,ROLEID INT REFERENCES ROLE_MST(ROLEID) ON DELETE CASCADE ON UPDATE CASCADE, STATUS CHAR(1) DEFAULT 'Y' );


JOIN QUERY FOR USER AND ROLE
SELECT USER_MST.USERID,ROLE_MST.NAME FROM USER_MST, ROLE_MST,USER_ROLE_MAPPING WHERE USER_MST.UID=USER_ROLE_MAPPING.UID AND ROLE_MST.ROLEID=USER_ROLE_MAPPING.ROLEID;


CREATE TABLE ROLE_RIGHT_MAPPING(MAPID SERIAL PRIMARY KEY, RIGHTID INT REFERENCES RIGHT_MST(RIGHTID) ON DELETE CASCADE ON UPDATE CASCADE ,ROLEID INT REFERENCES ROLE_MST(ROLEID) ON DELETE CASCADE ON UPDATE CASCADE, STATUS CHAR(1) DEFAULT 'Y' );

5 Table Join

SELECT USER_MST.USERID, ROLE_MST.NAME AS ROLENAME, RIGHT_MST.NAME AS RIGHTNAME,RIGHT_MST.SCREENNAME FROM USER_MST, ROLE_MST,RIGHT_MST,USER_ROLE_MAPPING,ROLE_RIGHT_MAPPING WHERE USER_MST.UID=USER_ROLE_MAPPING.UID AND ROLE_MST.ROLEID=USER_ROLE_MAPPING.ROLEID AND ROLE_MST.ROLEID=ROLE_RIGHT_MAPPING.ROLEID AND RIGHT_MST.RIGHTID=ROLE_RIGHT_MAPPING.RIGHTID AND USER_MST.USERID='amit' and USER_MST.PASSWORD='amit1234';
